# HEP Node API

## Basic Parameters
### Request
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_key | string | The decentralized application access key |
| protocol | string    | The protocol name. default is "HEP".                |
| version | string    | The protocol version such as "1.0"                |
| ts        | number    | The current timestamp                                  |
| nonce            | string | The random string or auto-increment sequence                              |
| os | string | The operating system of client such as ios, android, dweb,etc. |
| language | string | The i18n language code such as zh, en, etc. |
| dapp_signature_method            | string | The signature method used by dapp. |
| dapp_signature            | string | The signature generated by dapp. |

The timestamp and nonce fields is for preventing the replay attack.

#### dapp_signature_method
* `HMAC-MD5` - MD5
* `HMAC-SHA2` - SHA2
* `HMAC-SHA3` - Keccak-256

#### Signature Base String
The Signature Base String is a consistent reproducible concatenation of the request elements into a single string. The string is used as an input in hashing or signing algorithms. The HMAC-SHA256 signature method provides both a standard and an example of using the Signature Base String with a signing algorithm to generate signatures. 

* Normalize Request Parameters
The request parameters are collected, sorted and concatenated into a normalized string:

Parameters in the HTTP POST request body (with a content-type of application/x-www-form-urlencoded).
HTTP GET parameters added to the URLs in the query part (as defined by [RFC3986]).
The 'dapp_signature_method', 'dapp_signature', 'signature', 'sign_type' parameter MUST be excluded.

The parameters are normalized into a single string as follows:

Parameters are sorted by name, using lexicographical byte value ordering. If two or more parameters share the same name, they are sorted by their value. For example:
                    `a=1, c=hi%20there, f=25, f=50, f=a, z=p, z=t`
Parameters are concatenated in their sorted order into a single string. For each parameter, the name is separated from the corresponding value by an '=' character (ASCII code 61), even if the value is empty. Each name-value pair is separated by an '&' character (ASCII code 38). For example:
                    `a=1&c=hi%20there&f=25&f=50&f=a&z=p&z=t`


`
If value is a list or dictionary, the generated string will be the ordered json string. 
`

* Concatenate Request Elements
The following items MUST be concatenated in order into a single string. Each item is encoded and separated by an '&' character (ASCII code 38), even if empty.

The HTTP request method used to send the request. Value MUST be uppercase, for example: HEAD, GET , POST, etc.



### Response
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| message       | string    | error message         |
| errors       | json    | error list, see [error.json](schema/error.json) |

### Note
sign_type: secp256r1 
https://tools.ietf.org/search/rfc4492#appendix-A
## NewNet

*** 

### newnet_cacheAuth
Cache the authentication request.

#### Path
`
/newnet/caches/auth/
`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_id           | string | The decentralized application ID                             |
| uuid           | string | The request uuid                             |
| action           | string | The action name which value is "hep.auth.login".                             |
| scope            | int    | The request profile type. 1: base profile including name,head,newid; 2: advance profile including cellphone.  |
| expired          | number | The expired timestamp                             |
| memo             | string | The login Memo,optional.                             |
| sign_type             | string | The signature Type,aka cryptographic algorithm. |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |


#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| auth_hash           | string | The hash of auth information                             |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "hash": "...."
}
```
   
*** 

### newnet_getAuthCache
Get the authentication information by given request hash.

#### Path
`
/newnet/caches/auth/:auth_hash/
`

#### Parameters
none

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| uuid           | string | The request uuid                             |
| dapp_id           | string | The decentralized application ID                             |
| protocol | string    | The protocol name. default is "HEP".                |
| version | string    | The protocol version. example is "1.0".                |
| ts        | number    | The current timestamp                                  |
| nonce            | string | The random string or auto-increment sequence                              |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |
| action           | string | The action name which value is "hep.auth.login"                             |
| scope            | int    | The profile type. 1: base profile including name,head,newid; 2: advance profile including cellphone  |
| expired          | number | The expired timestamp                             |
| memo             | string | The login Memo,optional                             |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "uuid": "...",
    "signature": "...",
    "dapp_id": "...",
    "protocol": "....",
    "version": "1.0",
    "ts": 1559122027,
    "nonce": "...",
    "action": "...",
    "scope": 1,
    "expired": 1559122027,
    "memo": "...."
}
```

### newnet_newPayCache
#### Path
`
/newnet/caches/pay/
`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| uuid             | string | The request uuid                             |
| dapp_id           | string | The decentralized application ID                             |
| action           | string | The action name which value is "hep.pay.order"                             |
| expired          | number | The expired timestamp                             |
| description      | string | The order description |
| price_currency   | string | The symbol of fiat or digital token, such as USD, CNY, NEW,BTC,ETH.
| total_price      | string | The amount of fiat or digital token, unit is the minimum unit of given fiat or digital token. |
| order_number     | string | The order number |
| seller           | string | The seller's NewID  |
| customer         | string | The customer's NewID |
| broker           | string | The broker's NewID. optional.  |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| pay_hash           | string | The payment request hash                             |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "pay_hash": "...."
}
```
   
*** 

### newnet_getPayCache
Get the payment information by given request hash.

#### Path
`
/newnet/caches/pay/:pay_hash/
`

#### Parameters
none

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| uuid           | string | request uuid                             |
| dapp_id           | string | The decentralized application ID                             |
| protocol | string    | protocol name. The default is "HEP".                |
| version | string    | protocol version. The example is "1.0".                |
| ts        | number    | timestamp                                  |
| nonce            | string | random string or auto-increment sequence                              |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |
| action           | string | The value is "hep.pay.order". |
| expired          | number | Expired timestamp                             |
| description      | string | The order description |
| price_currency   | string | symbol of fiat or digital token, such as USD, CNY, NEW,BTC,ETH
| total_price      | string | amount of fiat or digital token, unit is the minimum unit of given fiat or digital token |
| order_number     | string | The order number. |
| seller           | string | The seller's NewID  |
| customer         | string | The customer's NewID |
| broker           | string | The broker's NewID.  |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "uuid": "...",
    "dapp_id": "...",
    "protocol": "....",
    "version": "1.0",
    "ts": 1559122027,
    "nonce": "...",
    "signature": "...",
    "action": "...",
    "expired": 1559122027,
    ...
}
```

## Proof

### proof_submitProof

In this case, we should check the delegate balance of dapp.

#### Path
`
/proofs/
`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_id           | string | The decentralized application ID                             |
| content      | json | The content of proof. |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |
| uuid | string | uuid |
| action           | string | The value is "hep.proof.submit".                             |


##### Order Proof Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| proof_type           | string | The proof type which value is "order".                             |
| description      | string | The order description |
| price_currency   | string | The symbol of fiat or digital token, such as USD, RMB, NEW,BTC,ETH.
| total_price      | string | The amount of fiat or digital token, unit is the minimum unit of given fiat or digital token. |
| order_number     | string | The order number |
| order_items      | json | The list of order items, see [schema/order-item.json]. |
| seller           | string | The seller's NewID  |
| customer         | string | The customer's NewID |
| broker           | string | The broker's NewID. optional.  |
| chain_txid           | string | The txid of blockchain. optional.  |

#### Example Parameters
`
{
    "content": {
                ...
        "type": "order",
        "description": "...",
        "total_price": "12.34",
        ...
    },
    "sign_type": "p256",
    "signature": "0x..."
}
`

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| proof_hash           | string | The proof hash                             |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "proof_hash": "...."
}
```

*** 

### proof_getProof
Get the proof information by given proof hash.

#### Path
`
/proofs/:proof_hash/
`

#### Method
`GET`

#### Parameters
none

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| uuid | string | uuid |
| dapp_id           | string | The decentralized application ID                             |
| protocol | string    | protocol name. The default is "HEP".                |
| version | string    | protocol version. The example is "1.0".                |
| ts        | number    | timestamp                                  |
| nonce            | string | random string or auto-increment sequence                              |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |
| action           | string | The value is "hep.proof.submit".                             |
| expired          | number | Expired timestamp                             |
| description      | string | The order description |
| proof_type       | string | The type of proof information |
| price_currency   | string | symbol of fiat or digital token, such as USD, CNY, NEW,BTC,ETH
| total_price      | string | amount of fiat or digital token, unit is the minimum unit of given fiat or digital token |
| orders | json | orders array |
| order_number     | string | The order number. |
| order_items      | json | The list of order items, see [schema/order-item.json]. |
| seller           | string | The seller's NewID  |
| customer         | string | The customer's NewID |
| broker           | string | The broker's NewID.  |
| chain_txid           | string | The txid of blockchain. optional.  |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "dapp_id":"dappid",
    "protocol":"HEP",
    "version":"1.0",
    "ts":1551222202,
    "nonce":"random string",
    "signature":"secp256r1signature",
    "sign_type":"secp256r1",
    "action":"hep.proof.submit",
    "content":{
        "total_price":"199.33",  // 所有订单的价格和
        "price_currency":"CNY",  // 订单的价格单位
        "submitter":"NEWID182XXXXXXX", // 用户的 newid
        "proof_type":"order",    // 证明类型，默认为order
        "orders":[               // 订单数组
            {
                "order_number":"xxxx",   // 订单编号
                "description":"description",  // 订单描述
                "chain_txid":"0xtxidxxxxxx",  // 如果为new支付，该值 wei 支付的 txid
                "seller":"NEWID18X....",     // 卖家的newid
                "broker":"NEWID182.......",   // 代理商的 newid， 可以为空字符串
                "customer": "NEWID182....",   // 用户的 newid
                "total_price": "12",         // 该订单的价格
                "price_currency": "CNY"      // 该订单的计价单位
                "order_items":[             // 订单详情数组
                    {
                        "order_item_number":"20190505053222",  // 订单详情id
                        "price":"12.2",                         // 订单价格...
                        "price_currency":"CNY",
                        "ordered_item":{
                            "name":"杯子",
                            "thing_type":"product",
                            "thing_id":"pingguoxxxxxxx"
                        },
                        "order_item_quantity":3
                    }
                ]
            }
        ]
    }
}
```

*** 

### proof_cancelProof

#### Path
`
/proofs/:proof_hash/
`

#### Method
`DELETE`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_id           | string | The decentralized application ID                             |
| proof_item_id        | string | The proof item id. For order proof, it is order_number. |
| proof_subitem_id        | string | The proof subitem id. For order proof, it is order_item_number. optional. If it is empty, all subitem will be canceled. |
| sign_type        | string | Signature Type,aka cryptographic algorithm. |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |

#### Example Parameters
TBD

#### Returns
none

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
}
```

***
### proof_getProofReceipts
Get the proof receipts by given proof hashes.

#### Path
`
/proofs/receipts/
`

#### Method
`POST`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| proof_hashes | json | The proof hashes. |

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| receipts | json | The receipts which is proof_hash and proof_status pairs. |


#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "receipts": [
        {
            "proof_hash": "....",
            "proof_status": "....",            
        }
    ]
}
```

***
### proof_getProofRewards
Get the proof reward by given proof data.

#### Path
`
/proofs/rewards/
`

#### Method
`POST`

#### Parameters
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| proof_data | json | The proof data. the format is [{"proof_hash":"...", "proof_item_id":'...', "proof_subitem_id":"..."},] |

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| proof_rewards | json | The proof rewards. |
| proof_hash | string | The proof hash. |
| proof_item_id        | string | The proof item id.  |
| proof_subitem_id        | string | The proof subitem id. |
| reward_tokens | string | The proof rewards. |
| newid | string | The newid of submit proof. |
| newforce | string | The newforce of proof. |
| action | string | The action of proof.choices:PURCHASE,RETURN |
| issue_timestamp | int | The timestamp of token issued |
| issue_status | string | The status of token issued.choices:PENDING,SENT,CANCELED |


#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "proof_rewards": [
        {
            "proof_hash": "....",
            "proof_item_id": "....",
            "proof_subitem_id": "....",
            "reward_tokens": "....",   
            "newid": "....",                  
            "newforce": "....",        
            "action": "....",                                                          
        }
    ]
}
```

## DApp

### dapp_profile

#### Path
`
/dapps/:dapp_id/
`

#### Parameters
none

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_id           | string | The decentralized application ID                             |
| dapp_name           | string | The decentralized application name                             |
| icon           | string | The icon of application                             |
| dapp_public_key           | string | The public key of DApp                             |
| developer_copyright | string | the dapp copyright |
| package_name | string | The package name such as com.demo.dev.android |
| bundle_id | string | The bundle id such as com.demo.dev.ios for ios platform |
| schema | string | The routing schema |
| website | string | The dapp website link |
| android_download_url | string | The dapp download url |
| ios_download_url | string | the ios download url |
| dweb_download_url | string | the dweb download url |
| newdapp_download_url | string | the newdapp download url |
| deposit_contract_address | string | The deposit contract Address, the example is NEW182.... |
| dapp_type_ids | array[] | The dapp type ids.  support platforms, 1 android, 2 ios, 3 dweb, 4 newdapp |
| dapp_category_id | int | The dapp category id.  |
| auth_login_callback  | string | For Mobile Native DApp, it is redirect schema; For website DApp, it is callback url; For  NewDApp, it is HEP-based url.       |
| pay_order_callback | string | For Mobile Native DApp, it is redirect schema; For website DApp, it is callback url; For  NewDApp, it is HEP-based url. |
| proof_submit_callback | string | For Mobile Native DApp, it is redirect schema; For website DApp, it is callback url; For  NewDApp, it is HEP-based url. |
| android_status | int | the android platform publish status |
| ios_status | int | the ios platform publish status |
| dweb_status | int | the dweb platform publish status |
| newdapp_status | int | the newdapp platform publish status |

#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    ....    
}
```

### dapp_getDailyStats

#### Path
`
/dapps/:dapp_id/:date/
`
* `date` - the date format is '20190808'.

#### Parameters
none

#### Example Parameters
TBD

#### Returns
| Field            | Type   | Notes                                      |
| ---              | ---    | ---                                        |
| dapp_id           | string | The decentralized application ID                             |
| total_nf           | string | The total Newforce                             |
| total_tokens           | string | The total number of NEW tokens                             |


#### Example
```
// Request
curl -X POST --data '{}'


// Response
{
    "dapp_id": "e123123123",
    "total_nf": "100",
    "total_tokens": "200"    
}
```

### newid

#### Path
`
/newids/:newid/
`

#### Parameters
none

#### Returns
| Field | Type | Notes |
| --- | --- | --- |
| newid | string | The NewID |
| public_key | string | The hex string of NewID's public key |
| main_wallet_address | string | The main wallet address of NewChain |

#### Example
```
// Response
{
    "newid": "NEWID...",
    "public_key": "0x...",
    "main_wallet_address": "NEW182...",
}
```

### Get the newforce reward tokens by newid

#### Path
`
/newids/:newid/newforce/reward/
`
* `newid` - the newid format is 'NEW182...'.

#### Parameters
none

#### Returns
| Field | Type | Notes |
| --- | --- | --- |
| total_reward | string | The total reward of govern community, unit: NEW |
| direct_buy_reward | string | The direct purchase reward of govern community, unit: NEW |
| direct_invite_reward | string | The direct invitation reward of govern community, unit: NEW |
| indirect_buy_reward | string | The indirect purchase reward of govern community, unit: NEW |
| indirect_invite_reward | string | The indirect invitation reward of govern community, unit: NEW |
| locked_for_candidate_reward | string | The community node reward of govern community, unit: NEW |
| locked_for_voter_reward | string | The vote reward of govern community, unit: NEW |
| sale_reward | string | The sale reward of govern community, unit: NEW |

#### Example
```
// Response
{
    'direct_buy_reward': '0',
    'direct_invite_reward': '0',
    'indirect_buy_reward': '0',
    'indirect_invite_reward': '0',
    'locked_for_candidate_reward': '0.002097746394517319',
    'locked_for_voter_reward': '0.001064190109278843',
    'sale_reward': '0',
    'total_reward': '0.003161936503796162'
}
```

### NewForce

#### Get the daily statistics of NewForce

##### Path
`
/newforce/:date/
`

* `date` - the date format is '20190808'.


##### Parameters
none

##### Returns
| Field | Type | Notes |
| --- | --- | --- |
| nf_new | string | The conversion rate between NewForce(NF) and NEW |
| nf_cny | string | The conversion rate between NewForce(NF) and CNY |
| nf_usd | string | The conversion rate between NewForce(NF) and USD |
| gnf | string | The global NewForce |


##### Example
```
// Response
{
    "nf_new": "2.6",
    "nf_cny": "2",
    "nf_usd": "2",
    "gnf": "11111111111"
}
```

#### Get the round history newforce statistics of SuperNode's partners and voters

##### Path
`
/newforce/node/round/:node_wallet_address/
`

* `node_wallet_address` - the wallet address of SuperNode.


##### Parameters
| Field | Type | Notes |
| --- | --- | --- |
| page_id | int | page number |
| page_size | int | max data number per page, max 50 |
| direction | int | sorted by time in ASC or DESC, 1-ASC, 0-DESC, default 0 |

##### Returns
| Field | Type | Notes |
| --- | --- | --- |
| address | string | address of SuperNode |
| page_id | int | current page number |
| page_size | int | max data number per page, max 50 |
| total_page | int | total pages number |
| round_data | list | data of history newforce grouped by round id |

###### round_data
| Field | Type | Notes |
| --- | --- | --- |
| round_id | int | round id of newforce |
| start_time | int | round strat time, timestamp in second |
| end_time | int | round end time, timestamp in second |
| votes | int | number of votes for SuperNode |
| rank | int | rank of SuperNode |
| node_status | int | status of SuperNode, 0: candidate 1: FormalSuperNode 2: AlternativeSuperNode |
| locked_amount | string | locked amount of SuperNode, in unit NEW |
| reward_newforce | string | reward newfroce from locked amount |
| reward_token | string | reward token from locked amount, in unit NEW |
| is_partner_node | bool | whether the SuperNode is partner node |
| partner_reward_newforce | string | total reward newforce  from partners, not include creator |
| partner_reward_token | string | total reward token  from partners, not include creator, in unit NEW |
| partner_node_management_fee | string | management fee rate of the partner node |
| partner_newforce_data | list | partners and creator newforce data of SuperNode |
| voter_newforce_data | list | voters newforce data of SuperNode |

###### partner_newforce_data
| Field | Type | Notes |
| --- | --- | --- |
| address | string | address of partner |
| locked_amount | string | the amount of locked |
| newforce | string | the reward newforce to partner self  |
| newforce_contrib | string | the reward newforce to creator |
| token_amount | string | the reward token to partner self, in unit NEW |
| token_contrib | string | the reward token to creator |

###### voter_newforce_data
| Field | Type | Notes |
| --- | --- | --- |
| address | string | address of partner |
| locked_amount | string | the amount of locked |
| newforce | string | the reward newforce to voter |
| token_amount | string | the reward token to voter |

##### Example
```
// Response
{
    'address': 'NEW17xQBMnNYm9tefbjQRZuB32X1PMi9LGyQPVH',
    'page_id': 1,
    'page_size': 10,
    'total_page': 106,
    'round_data': [
        {
            'round_id': 1059,
            'end_time': 1584437400,
            'is_partner_node': True,
            'locked_amount': '100',
            'node_status': 1,
            'votes': 4,
            'rank': 1,
            'partner_node_management_fee': '0.2111',
            'partner_reward_newforce': '712.0033718548',
            'partner_reward_token': '263.625055838887102588',
            'reward_newforce': '739.685537436127551624',
            'reward_token': '273.874603433174379022',
            'start_time': 1584435900,
            'partner_newforce_data': [
                {'address': 'NEW17xLP9zSuXzXBLF5LLQTowjE1rBEQWVLA5CK',
                 'locked_amount': '300',
                 'newforce': '70.380496743982654851',
                 'newforce_contrib': '18.887491749776645414',
                 'token_amount': '26.058952973448557302',
                 'token_contrib': '6.993247874964849472'},
            ],
            'voter_newforce_data': [
                {'address': 'NEW17xLP9zSuXzXBLF5LLQTowjE1rBEQWVLA5CK',
                 'locked_amount': '1000',
                 'newforce': '100',
                 'newforce_contrib': None,
                 'token_amount': '37.0258156435597031',
                 'token_contrib': None}
            ],
        }
    ],
}
```

### Oracle

#### Get the information of given oracle

##### Path
`
/oracles/:oracle_id/
`

* `oracle_id` - The oracle id. The reserved oracle id are as follows: default .

##### Parameters
none

##### Returns
| Field | Type | Notes |
| --- | --- | --- |
| oracle_id | string | The oracle id |
| oracle_name | string | The oracle name |
| public_key | string | The public key of oracle |


##### Example
```
// Response
{
    "oracle_id": "....",
    "oracle_name": "....",
    "public_key": "...."
}
```

### NewChain

#### Get the transaction information of given txid

##### Path
`
/newchain/tx/:txid/
`

##### Parameters
none

##### Returns
| Field | Type | Notes |
| --- | --- | --- |
| txid | string | The transaction ID |
| order_number | string | The order number |
| from_address | string | The from address |
| to_address | string | The to address |
| value | string | The transfer amount |
| block_height | int | The block height |
| status | int | The status of transaction |


##### Example
```
// Response
{
    "txid": "....",
    "order_number": "....",
    "from_address": "....",
    "to_address": "....",
    "value": "....",
    "block_height": 1990000,
    "status":1, 
}
```

### Gravity

#### Get Gravity Account Information

##### Method
GET

##### Path
`
/newchain/coin/:coin_name/account/:newid/
`

##### Parameters
None

##### Returns
| field | type | description|
| --- | --- | --- |
| is_in_whitelist | boolean | whether newid is in whitelist |
| mint_status | int | status of mint, 1 for not mint, 2 for pending mint, 3 for in minting, 4 for completed mint, 5 for pending collect |
| collect_status | int | status of mint, 1 for can not collect, 2 for can collect, 3 for pending collect |
| total_gravity | string | GRV account balance include available GRV and in minting GRV |
| in_minting_gravity | string | in minting GRV |
| minted_gravity | string | history accumulative minted GRV |
| exchanged_tokens | string | history accumulative exchanged tokens |
| exchange_rate | string | exchange rate GRV to NEW |
| gravity_escrow_address | string | GRV escrow address |
| can_collect_tokens | string | amount of can collect tokens |
| locked_tokens | string | locked NEW amount |

###### Example
```
{
      "is_in_whitelist": True,
      "mint_status": 3,
      "can_collect": True,
      "total_gravity": "1000000",
      "in_minting_gravity": "490000",
      "minted_gravity": "5000000",
      "exchanged_tokens": "5000000",
      "exchange_rate": "1",
      "gravity_escrow_address": "0xa21311321321321",
      "can_collect_tokens": "140000",
}
```

#### Get condition of Gravity minting

##### Method
GET

##### Path
`
/newchain/coin/:coin_name/mint/condition/:newid/
`

##### Parameters
None

##### Returns
| field | type | description| 
| --- | --- | --- |
| exchange_rate | string | exchange rate GRV to NEW |
| locked_tokens_rate | string | the rate of locked tokens when minting GRV |
| locked_tokens_threshold | string | the threshold of locked tokens, used to decide locked days, unit: NEW |
| mint_formula_constant | int | constant of the locked days formula |
| locked_tokens_days_minimum | string | the minimum locked days |
| minting_gravity_minimum | string | the minimum GRV amount when minting, unit: GRV |
| minting_gravity_maximum | string | the maximum GRV amount when minting, unit: GRV |
| gravity_escrow_address | string | GRV escrow address |

##### Example
```
{
      "exchange_rate": "1",
      "locked_tokens_rate": "10",
      "locked_tokens_threshold": "1000000",
      "mint_formula_constant": 1,
      "locked_tokens_days_minimum": "10",
      "minting_gravity_minimum": "10000",
      "minting_gravity_maximum": "100000000",
      "gravity_escrow_address": "0x112132132123",
}
```

#### Get current data of Gravity minting

##### Method
GET

##### Path
`
/newchain/coin/:coin_name/mint/data/current/:newid/
`

##### Parameters
None

##### Returns
| field | type | description| 
| --- | --- | --- |
| start_timestamp | int | start timestamp |
| end_timestamp | int | end timestamp |
| remaining_days | int | remaining days |
| locked_days | int | locked days |
| minted_days | int | minted days |
| collected_tokens | string | tokens that has been collected, unit: NEW |
| collect_status | int | status of mint, 1 for can not collect, 2 for can collect, 3 for pending collect |
| can_collect_tokens | string | tokens that waiting for collected, unit: NEW |
| in_minting_gravity | string | GRV that is in minting, unit: GRV |
| current_minting_stage | int | stage of current minting |
| current_collect_stage | int | stage of current collect |
| total_minting_stages | int | total stages of minting |
| released_tokens | string | released tokens, part of locked tokens, not from minting, unit: NEW |
| locked_tokens | string | locked tokens currently, unit: NEW |
| total_mint_amount | string | locked GRV of this minting, unit: GRV |
| total_exchange_tokens | string | exchange NEW of this minting, unit: NEW |

##### Example
```
{
      "start_timestamp": 1567995106,
      "remaining_timestamp": 1567995106,
      "remaining_days": 3,
      "locked_days": 10,
      "minted_days": 7,
      "collected_tokens": "70000",
      "in_minting_gravity": "490000",
      "can_collect": True,
      "can_collect_tokens": "140000",
      "current_minting_stage": 3,
      "total_minting_stages": 10,
      "released_tokens": "2100000",
      "locked_tokens": "4900000",
      "total_mint_amount": "700000",
      "total_exchange_tokens": "700000",
}
```

#### Get history data of GRV minting

##### Method
POST

##### Path
`
/newchain/coin/:coin_name/mint/data/history/
`

##### Parameters
| field | type | description|
| --- | --- | --- |
| newid | string | NewID of user |
| page_id | int |  |
| page_size | int |  |

##### Returns
| field | type | description| 
| --- | --- | --- |
| total_page | int | total number of pages |
| page_id | int |  |
| page_size | int |  |
| start_timestamp | int | start timestamp |
| end_timestamp | int | end timestamp |
| locked_days | int | total locked timestamp |
| minted_gravity | string | minted gravity, unit: GRV |
| locked_tokens | string | locked tokens of this minting, unit: NEW |
| collected_tokens | string | tokens that has been collected, unit: NEW |

##### Example
```
{
      "total_page": 10,
      "page_id": page_id,
      "page_size": page_size,
      "data_list": [
            {
                  "minted_gravity": "200000",
                  "collected_tokens": "200000",
                  "locked_tokens": "2000000",
                  "start_timestamp": 1567995106,
                  "end_timestamp": 1567995106,
                  "locked_days": 10,
            },
            {
                  "minted_gravity": "2000000",
                  "collected_tokens": "2000000",
                  "locked_tokens": "20000000",
                  "start_timestamp": 1567995106,
                  "end_timestamp": 1567995106,
                  "locked_days": 10,
            },
            ...
      ]
}
```

#### Execute Casting

##### Method
POST

##### Path
`
/newchain/coin/:coin_name/mint/submit/
`

##### Parameters
| field | type | description| 
| --- | --- | --- |
| newid | string | NewID of user |
| tx_tokens | string | transaction body of lock NEW |
| tx_gravity | string | transaction body of lock GRV |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |

##### Returns
None

##### Example
```
{
}
```

#### Execute collect operation

##### Method
POST

##### Path
`
/newchain/coin/:coin_name/mint/collect/
`

##### Parameters
| field | type | description| 
| --- | --- | --- |
| newid | string | NewID of user |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |

##### Return
None

##### Example
```
{
}
```

#### Get Subscribe Gravity Condition

##### Method
GET

##### Path
`
/newchain/coin/:coin_name/subscription/condition/:newid/
`

##### Parameters
None

##### Returns
| field | type | description| 
| --- | --- | --- |
| reward_pool_balance | string | GRV amount in reward pool |
| subscription_rate | string | the exchange rate NEW to GRV |
| subscription_minimum | string | the minimum tokens amount to subscribe GRV, unit: NEW |
| subscription_maximum | string | the maximum tokens amount to subscribe GRV, unit: NEW |
| gravity_escrow_address | string | GRV escrow address |
| subscription_bonus_constant | string | subscribe bonus formula constant |

##### Example
```
{
    "reward_pool_balance": "28000000",
    "subscription_rate": "1",
    "subscription_minimum": "10000000",
    "subscription_maximum": "100000000",
    "gravity_escrow_address": "0x1321321321321",
    "subscription_bonus_constant": "1000000000"
}
```

#### Execute Subscribe

##### Method
POST

##### Path
`
/newchain/coin/:coin_name/subscription/submit/
`

##### Parameters
| field | type | description| 
| --- | --- | --- |
| newid | string | NewID of user |
| tx | string | transaction body |
| sign_type        | string | Signature Type,aka cryptographic algorithm |
| signature        | string | The signature hex string by application owner. The exclude fields is ['dapp_signature_method', 'dapp_signature', 'signature', 'sign_type']. |

##### Return
None

##### Example
```
{
}
```
